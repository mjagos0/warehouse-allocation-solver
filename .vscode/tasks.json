{
    "version": "2.0.0",
    "tasks": [
        {
            // This task is executed before running the program as specified by launch.json preLaunchTask attribute.
            // Note: In general, this is called build, but for simple projects like this (compiling singular files) build = compile a file
            // In more complex projects this could mean compiling multiple file and linking dependencies.
            "type": "cppbuild",
            "label": "g++23 compile",
            "command": "/usr/bin/g++",              // call g++
            "args": [
                "-fdiagnostics-color=always",       // print output messages with colors
                "-std=c++23",                       // set standard to c++23
                "-g",                               // include debug flags in object file (e.g. breakpoints), debugger wouldn't see breakpoints without it
                "${file}",
                "-o",
                "${fileDirname}/${fileBasenameNoExtension}"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",    // Recognize a build task, show in build task options
                "isDefault": true   // Run this build task by default (don't have to always select build task when running scripts)
            },
            "detail": "Compile file with g++ std=c++23"
        },
        {
            // This task is executed after running a program, as specified by launch.json postDebugTask attribute.
            "type": "shell",
            "label": "cleanup",
            "command": "rm",
            "args": [
                "${fileDirname}/${fileBasenameNoExtension}"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [],
            "presentation": {
                "reveal": "never",
                "close": true       // Automatically close the terminal after cleanup task (otherwise cleanup terminal window is left open -> needs extra click to view results of running script)
            },
            "group": {
                "kind": "none",
                "isDefault": false
            },
            "detail": "Clean up generated files"
        }
    ]
}
